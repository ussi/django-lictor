/**
 * @package go.js
 * @author  Grigoriev Oleg aka vasa_c (http://blgo.ru/)
 * @version 1.0-beta
 * @license MIT (http://www.opensource.org/licenses/mit-license.php)
 * @link    https://github.com/vasa-c/go-js
 */
"use strict";var go=(function(c){var d="1.0-beta",f,e=c.document,a;function b(h,g,i){if(h){b.appendModule(h,g,i)}return b}b.VERSION=d;b.include=function(h,g){a.include(h,g)};b.appendModule=function(h,g,i){if(!i){i=g;g=[]}a.appendModule(h,g,i)};b.__Loader=(function(){var h,g;h={__construct:function(j){var i;if(j){for(i in j){if(j.hasOwnProperty(i)){this[i]=j[i]}}}this.reqs={};this.loaded={};this.created={};this.listeners={}},include:function(n,m){var l,j,k;if(typeof n==="string"){n=[n]}for(l=0,j=n.length;l<j;l+=1){k=n[l];if(!this.reqs[k]){this.reqs[k]=true;this.requestModule(k)}}if(m){this.addListener(n,m)}},addListener:function(o,n){var k={l:0,fn:n},l,m,j;for(m=0,j=o.length;m<j;m+=1){l=o[m];if(!this.created[l]){if(!this.listeners[l]){this.listeners[l]=[]}k.l+=1;this.listeners[l].push(k)}}if(k.l===0){n()}},appendModule:function(m,l,o){var k=[],n,j,q=this,p;this.reqs[m]=true;if(!l){l=[]}for(n=0,j=l.length;n<j;n+=1){if(!this.created[l[n]]){k.push(l[n])}}p=function(){q.createModule(m,o);q.onload(m)};if(k.length>0){this.include(k,p)}else{p()}},requestModule:function(i){var j=f+i+".js"+a._anticache;e.write('<script type="text/javascript" src="'+j+'"><\/script>')},createModule:function(i,j){b[i]=j(b,c)},onload:function(k){var m=this.listeners[k],l,j,n;this.created[k]=true;if(!m){return}for(l=0,j=m.length;l<j;l+=1){n=m[l];n.l-=1;if(n.l<=0){n.fn.call(c)}}}};g=function(){this.__construct.apply(this,arguments)};g.prototype=h;return g}());a=new b.__Loader();(function(){var g=new RegExp("^(.*\\/)?go\\.js(\\?[^#]*)?(#(.*?))?$"),h;if(e.currentScript){h=g.exec(e.currentScript.getAttribute("src"))}if(!h){h=(function(){var j=e.getElementsByTagName("script"),k,m,l;for(k=j.length;k>0;k-=1){m=j[k-1].getAttribute("src");l=g.exec(m);if(l){return l}}return null}())}if(!h){throw new Error("go.js is not found in DOM")}f=h[1];a._anticache=h[2]||"";if(h[4]){b.include(h[4].split(","))}}());return b}(window));go("Lang",function(c,b){var a={bind:function(g,e,f){var d;e=e||b;if(g.bind){if(f){f=[e].concat(f)}else{f=[e]}d=g.bind.apply(g,f)}else{if(f){d=function(){return g.apply(e,f.concat(Array.prototype.slice.call(arguments,0)))}}else{d=function(){return g.apply(e,arguments)}}}return d},getType:function(e){var d;if(e&&(typeof e.go$type==="string")){return e.go$type}d=typeof e;if((d!=="object")&&(d!=="function")){return d}if(e===null){return"null"}switch(Object.prototype.toString.call(e)){case"[object Function]":return"function";case"[object Array]":return"array";case"[object RegExp]":return"regexp";case"[object Error]":return"error";case"[object Date]":return"date";case"[object HTMLCollection]":case"[object NodeList]":return"collection";case"[object Text]":return"textnode";case"[object Arguments]":return"arguments";case"[object Number]":return"number";case"[object String]":return"string";case"[object Boolean]":return"boolean"}if(e.constructor){if(e instanceof Array){return"array"}if(window.HTMLElement){if(e instanceof window.HTMLElement){return"element"}}else{if(e.nodeType===1){return"element"}}if(window.Text&&(e instanceof window.Text)){return"textnode"}if(window.HTMLCollection&&(e instanceof window.HTMLCollection)){return"collection"}if(window.NodeList&&(e instanceof window.NodeList)){return"collection"}if((typeof e.length==="number")&&(!e.slice)){return"arguments"}}else{if(e.nodeType===1){return"element"}if(e.nodeType===3){return"textnode"}if(typeof e.length==="number"){return"collection"}if((e+":").indexOf("function")!==-1){return"function"}}return"object"},isArray:function(e,d){switch(a.getType(e)){case"array":return true;case"collection":case"arguments":return(!d);default:return false}},isDict:function(d){return(d&&(d.constructor===Object))},each:function(h,k,g,f){var e,j,d;g=g||b;if(a.isArray(h)){e=[];for(j=0,d=h.length;j<d;j+=1){e.push(k.call(g,h[j],j,h))}}else{e={};for(j in h){if(h.hasOwnProperty(j)||f){e[j]=k.call(g,h[j],j,h)}}}return e},copy:function(g){var e,f,d;if(a.isArray(g)){e=[];for(f=0,d=g.length;f<d;f+=1){e.push(g[f])}}else{e={};for(f in g){if(g.hasOwnProperty(f)){e[f]=g[f]}}}return e},extend:function(d,g,e){var f;for(f in g){if(e||g.hasOwnProperty(f)){d[f]=g[f]}}return d},merge:function(d,g){var e,f;for(e in g){if(g.hasOwnProperty(e)){f=g[e];if(a.isDict(f)&&a.isDict(d[e])){d[e]=a.merge(d[e],f)}else{d[e]=f}}}return d},curry:function(e){var f=Array.prototype.slice,d=f.call(arguments,1);return function(){var g=d.concat(f.call(arguments));return e.apply(b,g)}},inArray:function(g,f){var e,d;for(e=0,d=f.length;e<d;e+=1){if(f[e]===g){return true}}return false},tryDo:function(g){var h,f,d;for(h=0,f=g.length;h<f;h+=1){try{return g[h]()}catch(j){}}return d},parseQuery:function(j,g){var e={},h,d,f;if(typeof j==="undefined"){j=b.location.toString().split("#",2)[0].split("?",2)[1]}else{if(typeof j!=="string"){return j}}if(!j){return e}j=j.split(g||"&");for(h=0,d=j.length;h<d;h+=1){f=j[h].split("=",2);if(f.length===2){e[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}else{e[""]=decodeURIComponent(f[0])}}return e},buildQuery:function(i,d){var h=[],e,g,f;if(typeof i==="string"){return i}e=function(j,k){if(a.isDict(k)){f(k,j)}else{if(a.isArray(k)){g(k,j)}else{h.push(j+"="+encodeURIComponent(k))}}};g=function(n,m){var l,j,k;for(l=0,j=n.length;l<j;l+=1){k=m?m+"["+l+"]":l;e(k,n[l])}};f=function(n,m){var j,l;for(j in n){if(n.hasOwnProperty(j)){l=m?m+"["+j+"]":j;e(l,n[j])}}};f(i,"");return h.join(d||"&")},f:{empty:function(){},ffalse:function(){return false}},Exception:(function(){var e,d;d=function(g,h,f){var i,j;if((!h)&&(typeof b.Error==="function")){h=b.Error}f=f||"";i=function i(k){this.name=g;this.message=k||f;this.stack=(new Error()).stack;if(this.stack){this.stack=this.stack.replace(/^[^n]*\n/,"")}};if(h){j=function(){};j.prototype=h.prototype;i.prototype=new j();i.prototype.constructor=i}return i};e=d("go.Exception");e.create=d;e.Base=e;return e}()),eoc:null};return a});
